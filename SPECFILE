title: CDH4 Salt Formula
description: Salt formula for installing components of CDH4
root_path: cdh4
pillar_defaults: pillar_defaults.sls
components:
  - title: NameNode
    description: Hadoop NameNode component of CDH4
    sls_path: cdh4.hadoop.namenode
  - title: DataNode
    description: Hadoop DataNode component of CDH4
    sls_path: cdh4.hadoop.datanode
  - title: HBase Master
    description: HBase Master component of CDH4
    sls_path: cdh4.hbase.master
  - title: HBase RegionServer
    description: HBase RegionServer component of CDH4
    sls_path: cdh4.hbase.regionserver
  - title: Oozie 
    description: Oozie
    sls_path: cdh4.oozie
pillar_defaults:
  cdh4:
    version: 4.2.1
    landing_page: true
    io:
      sort_factor: 25
      sort_mb: 250
    dfs:
      name_dir: /mnt/hadoop/hdfs/nn
      data_dir: /mnt/hadoop/hdfs/data
      permissions: true
    mapred:
      local_dir: /mnt/hadoop/mapred/local
      system_dir: /hadoop/system/mapred
      reduce_tasks: {{ 3 * (grains['cluster_size']-1) }}
      map_tasks_max: 5
      reduce_tasks_max: 3
      child_java_opts: '-Xmx2000m'
      child_ulimit: 8000000
    hbase:
      tmp_dir: /mnt/hbase/tmp
      replication: 3
    zookeeper:
      data_dir: /mnt/zk/data
